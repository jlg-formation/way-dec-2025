<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>WASM Image Filters</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        height: 100%;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      }

      #app {
        display: grid;
        grid-template-rows: auto 1fr auto;
        height: 100vh;
        gap: 8px;
        padding: 8px;
      }

      header {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 8px;
      }

      header h1 {
        font-size: 1.1rem;
        margin: 0 16px 0 0;
        white-space: nowrap;
      }

      header button {
        padding: 4px 8px;
        font-size: 0.9rem;
      }

      main {
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        background: #f5f5f5;
        border: 1px solid #ddd;
      }

      canvas {
        max-width: 100%;
        max-height: 100%;
        image-rendering: pixelated;
        background: white;
      }

      footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        font-size: 0.9rem;
      }

      .slider {
        display: flex;
        align-items: center;
        gap: 8px;
        white-space: nowrap;
      }

      #log {
        font-family: monospace;
      }
    </style>
  </head>

  <body>
    <div id="app">
      <header>
        <h1>WASM Image Filters</h1>

        <input type="file" id="file" accept="image/*" />

        <button id="btn-js">Grayscale JS</button>
        <button id="btn-wasm">Grayscale WASM</button>
        <button id="btn-reset">Reset</button>
      </header>

      <main>
        <canvas id="canvas"></canvas>
      </main>

      <footer>
        <div class="slider">
          <label for="invert">Inversion WASM</label>
          <input
            id="invert"
            type="range"
            min="0"
            max="1"
            step="0.01"
            value="0"
          />
          <span id="invertVal">0.00</span>
        </div>

        <span id="log"></span>
      </footer>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
